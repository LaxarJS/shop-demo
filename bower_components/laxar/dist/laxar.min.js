/** Copyright 2015 aixigo AG, Released under the MIT license: http://laxarjs.org/license */
define("laxar/lib/logging/console_channel",[],function(){"use strict";function a(a){var d=window.console;if(d){var e=a.level.toLowerCase();if(e in d&&"trace"!==e||(e="log"),e in d){var f=[a.level+": "];f=f.concat(c(a.text,a.replacements)),f.push("(@ "+a.sourceInfo.file+":"+a.sourceInfo.line+")"),b(d,e,f)}}}function b(a,b,c){Function.apply.apply(a[b],[a,c])}function c(a,b){for(var c,d=0,e="",f=[];d<a.length;){switch(c=a.charAt(d)){case"\\":if(++d,d===a.length)throw new Error('Unterminated string: "'+a+'"');e+=a.charAt(d);break;case"[":f.push(e),e="";var g=a.indexOf("]",d);if(-1===g)throw new Error("Unterminated replacement at character "+d+': "'+a+'"');var h=parseInt(a.substring(d+1,g),10);f.push(b[h]),d=g;break;default:e+=c}++d}return e.length>0&&f.push(e),f}return a}),define("laxar/lib/utilities/assert",[],function(){"use strict";function a(a,b){this.subject_=a,this.details_=b||null}function b(a,b){throw b&&(a+=" Details: "+("object"==typeof b?JSON.stringify(b):b)),new Error("Assertion error: "+a)}function c(a,b){if("object"==typeof a)return a instanceof b;var c=f[typeof a];return c===b}function d(a){var b=g.exec(a.toString().trim());return b[1].length?b[1]:"n/a"}function e(b,c){return new a(b,c)}a.prototype.isNotNull=function(a){return("undefined"==typeof this.subject_||null===this.subject_)&&b("Expected value to be defined and not null.",a||this.details_),this},a.prototype.hasType=function(a,e){if("undefined"==typeof this.subject_||null===this.subject_)return this;if("function"!=typeof a&&b("type must be a constructor function. Got "+typeof a+"."),!c(this.subject_,a)){var f=d(this.subject_.constructor),g=d(a);b('Expected value to be an instance of "'+g+'" but was "'+f+'".',e||this.details_)}return this},a.prototype.hasProperty=function(a,c){return"object"!=typeof this.subject_&&b("value must be an object. Got "+typeof this.subject_+"."),a in this.subject_||b('value is missing mandatory property "'+a+'".',c||this.details_),this};var f={string:String,number:Number,"boolean":Boolean,"function":Function},g=/^function ([^\(]*)\(/i;return e.codeIsUnreachable=function(a){b("Code should be unreachable!",a)},e.state=function(a,c){a||b("State does not hold.",c)},e}),define("laxar/lib/utilities/object",[],function(){"use strict";function a(a,b){return i(k.call(arguments,0),function(a,b,c){a[c]=b[c]})}function b(b,c){return a({},c,b)}function c(a,b){if(Array.isArray(a))return void a.forEach(b);for(var c in a)j(a,c)&&b(a[c],c,a)}function d(a,b,c){for(var d=3===arguments.length?c:void 0,e=b.split("."),f=a,g=e.shift();g;){if(!f||"object"!=typeof f||!j(f,g))return d;f=f[g],g=e.shift()}return f}function e(a,b,c){var d=a,e=b.split("."),f=e.pop();return e.forEach(function(a,b){if(!d[a]||"object"!=typeof d[a]){var c=e[b+1]||f;c.match(/^[0-9]+$/)?(d[a]=[],h(d[a],parseInt(c,10))):d[a]={}}d=d[a]}),Array.isArray(d)&&f>d.length&&h(d,f),d[f]=c,a}function f(a){if(!a||"object"!=typeof a)return a;var b;if(Array.isArray(a)){b=[];for(var c=0,d=a.length;d>c;++c)b[c]=f(a[c])}else{b={};for(var e in a)j(a,e)&&(b[e]=f(a[e]))}return b}function g(a,b){return Object.isFrozen(a)?a:(b&&c(a,function(b,c){"object"==typeof b&&(a[c]=g(b,!0))}),Object.freeze(a))}function h(a,b){for(var c=a.length;b>c;++c)a[c]=null}function i(a,b){var c=a[0];return a.slice(1).forEach(function(a){if(a)for(var d in a)j(a,d)&&b(c,a,d)}),c}function j(a,b){return l.call(a,b)}var k=Array.prototype.slice,l=Object.prototype.hasOwnProperty;return{extend:a,options:b,forEach:c,path:d,setPath:e,deepClone:f,deepFreeze:"function"==typeof Object.freeze?g:function(a){return a}}}),define("laxar/lib/utilities/configuration",["./object"],function(a){"use strict";var b=new Function("return this")();return{get:function(c,d){return a.path(b.laxar,c,d)}}}),define("laxar/lib/logging/log",["./console_channel","../utilities/assert","../utilities/object","../utilities/configuration"],function(a,b,c,d){"use strict";function e(){this.queueSize_=100,this.channels_=[a],this.counter_=0,this.messageQueue_=[],this.threshold_=0,this.tags_={},this.level=c.options(d.get("logging.levels",{}),h),this.levelToName_=function(a,b){var d={};return c.forEach(b,function(b,c){a[c.toLowerCase()]=function(){var a=[b].concat(g.call(arguments,0));return this.log.apply(this,a)},d[b]=c}),d}(this,this.level),this.setLogThreshold(d.get("logging.threshold","INFO"))}function f(){var a=new Error;if(!a.stack)return k;var b,c=a.stack.split(/[\n]/);if("Error"===c[0])c.splice(0,1),b=function(a){var b=i.exec(a);return{file:b?b[1]:"?",line:b?b[2]:-1,"char":b?b[3]:-1}};else{if(-1===c[0].indexOf("@"))return k;b=function(a){var b=j.exec(a);return{file:b?b[1]:"?",line:b?b[2]:-1,"char":-1}}}for(var d=0;d<c.length;++d){var e=b(c[d]);if(-1===e.file.indexOf("/logging/log.js"))return e}return k}var g=Array.prototype.slice,h={TRACE:100,DEBUG:200,INFO:300,WARN:400,ERROR:500,FATAL:600};e.prototype.create=function(){return new e},e.prototype.log=function(a,b,c){if(!(a<this.threshold_)){var d={id:this.counter_++,level:this.levelToName_[a],text:b,replacements:g.call(arguments,2)||[],time:new Date,tags:this.gatherTags(),sourceInfo:f()};this.channels_.forEach(function(a){a(d)}),this.messageQueue_.length===this.queueSize_&&this.messageQueue_.shift(),this.messageQueue_.push(d)}},e.prototype.trace=function(){},e.prototype.debug=function(){},e.prototype.info=function(){},e.prototype.warn=function(){},e.prototype.error=function(){},e.prototype.fatal=function(){},e.prototype.addLogChannel=function(a){this.channels_.push(a),this.messageQueue_.forEach(function(b){a(b)})},e.prototype.removeLogChannel=function(a){var b=this.channels_.indexOf(a);b>-1&&this.channels_.splice(b,1)},e.prototype.addTag=function(a,c){b(a).hasType(String).isNotNull(),this.tags_[a]?this.tags_[a].push(c):this.tags_[a]=[c]},e.prototype.setTag=function(a,c){b(a).hasType(String).isNotNull(),this.tags_[a]=[c]},e.prototype.removeTag=function(a){b(a).hasType(String).isNotNull(),delete this.tags_[a]},e.prototype.gatherTags=function(){var a={};return c.forEach(this.tags_,function(b,c){a[c]=b.join(";")}),a},e.prototype.setLogThreshold=function(a){"string"==typeof a&&(b.state(a.toUpperCase()in this.level,'Unsupported log threshold "'+a+'".'),a=this.level[a.toUpperCase()]),b(a).hasType(Number),this.threshold_=a};var i=/\(?([^\( ]+\.js)\:(\d+)\:(\d+)\)?$/,j=/@(.+)\:(\d+)$/,k={file:"?",line:-1,"char":-1};return new e}),define("laxar/lib/directives/id/id",["angular","../../utilities/assert"],function(a,b){"use strict";var c=a.module("axId",[]),d="axId";c.directive(d,[function(){return{restrict:"A",link:function(a,c,e){var f=a.$eval(e[d]);b.state(f,"directive axId needs a non-empty local id, e.g. ax-id=\"'myLocalId'\"."),c.attr("id",a.id(f))}}}]);var e="axFor";return c.directive(e,[function(){return{restrict:"A",link:function(a,c,d){var f=a.$eval(d[e]);b.state(f,"directive axFor needs a non-empty local id, e.g. ax-for=\"'myLocalId'\"."),c.attr("for",a.id(f))}}}]),c}),define("laxar/lib/directives/layout/layout",["angular","../../logging/log"],function(a,b){"use strict";var c=a.module("axLayout",[]),d="axLayout";return c.directive(d,["axLayoutLoader","$compile",function(a,c){return{restrict:"A",link:function(e,f,g){var h=e.$eval(g[d]);a.load(h).then(function(a){f.html(a.htmlContent),f.addClass(a.className),c(f.contents())(e),e.$emit("axLayoutLoaded",h)},function(a){b.error("axLayout: could not load layout [0], error: [1]",h,a)})}}}]),c}),define("laxar/lib/utilities/string",[],function(){"use strict";function a(a,b,c){return e(a,b,c)}function b(a,b){function e(b,d,e){if("string"!=typeof b)return c(a)(b);var i=Array.isArray(d)?d:[],k={};e?k=e||{}:Array.isArray(d)||(k=d||{});for(var l=b.split(""),m="",n=0,o=l.length;o>n;++n)if(l[n]===f){if(n+1===o)throw new Error("Unterminated escaping sequence at index "+n+' of string: "'+b+'".');m+=l[++n]}else if(l[n]===g){var p=b.indexOf(h,n+1);if(-1===p)throw new Error("Unterminated placeholder at index "+n+' of string: "'+b+'".');var q=b.substring(n+1,p);m+=j(q,k,i,{string:b,index:n}),n=p}else m+=l[n];return m}function j(d,e,f,j){var k,l="",m="",n=d.split(":"),o=n[0];if(i.test(o)&&o<f.length)k=f[o];else{if(!(o in e))return g+d+h;k=e[o]}return n.length>1?("%"!==n[1].charAt(0)&&(k=c(a)(k)),n.slice(1).reduce(function(c,d){if(0===d.indexOf("%")){var e=d.match(/^%(.*)(\w)$/);if(l=e?e[2]:"",m=e?e[1]:"",l in a)return a[l](c,m);var f=Object.keys(a).filter(function(a){return"default"!==a}).map(function(a){return"%"+a}).join(", ");throw new Error('Unknown format specifier "%'+l+'" for placeholder at index '+j.index+' of string: "'+j.string+'" (Known specifiers are: '+f+").")}return d in b?b[d](c):c},k)):c(a)(k)}return a||(a=d),b||(b={}),e}function c(a){return"default"in a?a["default"]:d["default"]}var d={s:function(a){return""+a},d:function(a){return a.toFixed(0)},i:function(a,b){return d.d(a,b)},f:function(a,b){var c=b.match(/^\.(\d)$/);return c?a.toFixed(c[1]):""+a},o:function(a){return JSON.stringify(a)},"default":function(a,b){return d.s(a,b)}};"function"==typeof Object.freeze&&Object.freeze(d);var e=b(d),f="\\",g="[",h="]",i=/^[0-9]+$/;return{format:a,createFormatter:b,DEFAULT_FORMATTERS:d}}),define("laxar/lib/directives/widget_area/widget_area",["angular","../../utilities/string"],function(a,b){"use strict";var c=a.module("axWidgetArea",[]),d="axWidgetArea";return c.directive(d,["axPageService",function(a){return{restrict:"A",link:function(c,e,f){var g=c.widget&&c.widget.id,h=f[d];if(!h){if(!f[d+"Binding"]){var i="axWidgetArea: area at at [0] has neither a name nor a binding assigned.",j=g||c.layoutClass;throw new Error(b.format(i,[j]))}h=c.$eval(f[d+"Binding"])}g&&(h=g+"."+h);var k=a.controllerForScope(c).areas,l=k.register(h,e[0]);c.$on("$destroy",l)}}}]),c}),define("laxar/lib/directives/directives",["./id/id","./layout/layout","./widget_area/widget_area"],function(a,b,c,d){"use strict";return{id:a,layout:b,widgetArea:c,pageFade:d}}),define("laxar/lib/i18n/i18n",["../utilities/string","../utilities/assert","../utilities/configuration"],function(a,b,c){"use strict";function d(a,c,d){if(b(a).hasType(String),!c||k[typeof c])return c;b(a).isNotNull();var e=c[a];if(void 0!==e)return e;for(var f=l(a),g=n(c),h=g.length,i=0;h>i;++i){var j=g[i];if(l(j)===f)return c[j]}return d}function e(a,e,f){if(b(a).hasType(String),!e||k[typeof e])return e;for(var g=a?a.replace(/-/g,"_").split("_"):[];g.length>0;){var h=g.join("-"),j=d(h,e);if(void 0!==j)return j;g.pop()}return void 0===i&&(i=c.get("i18n.fallback","en")),i&&d(i,e)||f}function f(a,b){function c(c){return j(a,c,b)}return c.format=function(c,d,e){var f=j(a,c);return void 0===f?b:m(f,d,e)},c}function g(a,b){return a&&a.hasOwnProperty("tags")?a.tags[a.locale]||b:b}function h(a){var b={};return function(c){var d=b[c];return void 0===d&&(d=a(c),b[c]=d),d}}var i,j=e,k={string:!0,number:!0,"boolean":!0},l=h(function(a){return a.toLowerCase().replace(/[-]/g,"_")}),m=a.format,n=Object.keys;return{localize:j,localizeStrict:d,localizeRelaxed:e,localizer:f,languageTagFromI18n:g}}),define("laxar/lib/utilities/fn",[],function(){"use strict";return{debounce:function(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}}}}),define("laxar/lib/utilities/storage",["./assert","./configuration"],function(a,b){"use strict";function c(a,b){function c(c){var d=a.getItem(b+"."+c);return d?JSON.parse(d):d}function d(c,d){var e=b+"."+c;void 0===d?a.removeItem(e):a.setItem(e,JSON.stringify(d))}function e(c){a.removeItem(b+"."+c)}return{getItem:c,setItem:d,removeItem:e}}function d(a){var b=window[a];if(b.setItem&&b.getItem&&b.removeItem)try{var c="ax.storage.testItem";return b.setItem(c,1),b.removeItem(c),b}catch(d){}if(window.console){var e="warn"in window.console?"warn":"log";window.console[e]("window."+a+" not available: Using non-persistent polyfill. \nTry disabling private browsing or enabling cookies.")}var f={};return{getItem:function(a){return f[a]||null},setItem:function(a,b){f[a]=b},removeItem:function(a){a in f&&delete f[a]}}}function e(){var a=b.get("storagePrefix");if(a)return a;for(var c=b.get("name",""),d=0,e=c.length-1;e>0;--e)d=(d<<5)-d+c.charCodeAt(e),d|=0;return Math.abs(d)}function f(b,i){var j=b||d(h),k=i||d(g),l="ax."+e()+".";return{getLocalStorage:function(b){return a(b).hasType(String).isNotNull(),c(j,l+b)},getSessionStorage:function(b){return a(b).hasType(String).isNotNull(),c(k,l+b)},getApplicationLocalStorage:function(){return c(j,l+"app")},getApplicationSessionStorage:function(){return c(k,l+"app")},create:f}}var g="sessionStorage",h="localStorage";return f()}),define("laxar/lib/utilities/path",["./assert"],function(a){"use strict";function b(){var b=Array.prototype.slice.call(arguments,0);if(0===b.length)return"";var c="";b=b.reduce(function(b,d){a(d).hasType(String).isNotNull();var e=h.exec(d);return e?(c=e[1],d=e[2],d.split(f)):b.concat(d.split(f))},[]);var d=e(b);return c+d.join(f)}function c(a){var b="",c=h.exec(a);c&&(b=c[1],a=c[2]);var d=e(a.split(f));return b+d.join(f)}function d(b,c){var d=h.exec(b),g=h.exec(c);a(d).isNotNull(),a(g).isNotNull();var i=e(d[2].split(f)),j=e(g[2].split(f));return i.reduce(function(a,b){return a[0]===b?a.shift():a.unshift(".."),a},j).join(f)||"."}function e(a){return a.reduce(function(a,b){return b=b.replace(/^\/+|\/+$/g,""),""===b||"."===b?a:0===a.length?[b]:b===g&&a.length>0&&a[a.length-1]!==g?(a.pop(),a):(a.push(b),a)},[])}var f="/",g="..",h=/^([a-z0-9]+:\/\/[^\/]+\/|\/)(.*)$/;return{join:b,normalize:c,relative:d}}),define("laxar/lib/loaders/paths",["require"],function(a){"use strict";return{PRODUCT:a.toUrl("laxar-path-root"),THEMES:a.toUrl("laxar-path-themes"),LAYOUTS:a.toUrl("laxar-path-layouts"),WIDGETS:a.toUrl("laxar-path-widgets"),PAGES:a.toUrl("laxar-path-pages"),FLOW_JSON:a.toUrl("laxar-path-flow"),DEFAULT_THEME:a.toUrl("laxar-path-default-theme")}}),define("laxar/lib/runtime/runtime",["angular","../utilities/path","../loaders/paths"],function(a,b,c){"use strict";var d=a.module("axRuntime",[]);return d.run(["$rootScope","$window",function(b,c){a.element(c).one("unload",function(){for(;b.$$childHead;)b.$$childHead.$destroy();b.$destroy()})}]),d.run(["axCssLoader","axThemeManager",function(a,d){d.urlProvider(b.join(c.THEMES,"[theme]"),null,c.DEFAULT_THEME).provide(["css/theme.css"]).then(function(b){a.load(b[0])})}]),d.run(["$rootScope","axConfiguration",function(a,b){a.i18n={locale:"default",tags:b.get("i18n.locales")}}]),d}),define("laxar/lib/event_bus/event_bus",["../utilities/assert","../utilities/object","../logging/log"],function(a,b,c){"use strict";function d(a){this.config_=b.options(a,{pendingDidTimeout:12e4}),this.cycleCounter_=0,this.eventQueue_=[],this.subscriberTree_={},this.waitingDeferreds_=[],this.currentCycle_=-1,this.errorHandler_=m,this.mediator_=n(),this.inspectors_=[]}function e(a,b,c,d){if(0===c.length&&Array.isArray(b[s]))for(var f=b[s],g=f.length-1;g>=0;--g)f[g].subscriber===d&&(l(a,{action:"unsubscribe",source:f[g].subscriberName,target:"-",event:f[g].name,cycleId:a.currentCycle_}),f.splice(g,1));var h=c.shift();""===h&&(h=r),h in b&&e(a,b[h],c,d)}function f(a,b){0===a.eventQueue_.length&&p(function(){var b=a.eventQueue_;a.eventQueue_=[],h(a,g(a,b))}),a.eventQueue_.push(b)}function g(a,c){return a.mediator_(c).map(function(c){var d=c.meta;a.currentCycle_=d.cycleId;var e=i(a,d.name);if(0===e.length)return a.currentCycle_=-1,c.publishedDeferred;var f=null;e.length>1&&(f=JSON.stringify(c.event));var g=d.sender,h=d.options;return e.forEach(function(e){var i=e.subscriberName;if(h.deliverToSender||!g||g!==i){try{var j;j=e.options.clone?f?JSON.parse(f):c.event:b.deepFreeze(c.event,!0),e.subscriber(j,b.options(d,{unsubscribe:function(){a.unsubscribe(e.subscriber)}}))}catch(k){var m='error while calling subscriber "'+i+'" for event '+d.name+' published by "'+g+'" (subscribed to: '+e.name+")";a.errorHandler_(m,{Exception:k,"Published event":c.event,"Event meta information":d,"Caused by Subscriber":e})}l(a,{action:"deliver",source:g,target:i,event:d.name,eventObject:c.event,subscribedTo:e.name,cycleId:d.cycleId})}}),a.currentCycle_=-1,c.publishedDeferred})}function h(a,b){var c=a.waitingDeferreds_;a.waitingDeferreds_=b,c.forEach(function(a){a.resolve()}),0===a.eventQueue_.length&&(b.forEach(function(a){a.resolve()}),a.waitingDeferreds_=[])}function i(a,b){var c=[],d=b.split(u),e=a.subscriberTree_;return j(e,d,c),c.sort(function(a,b){var c=a.subscriptionWeight,d=b.subscriptionWeight;return c[0]===d[0]?d[1]-c[1]:d[0]-c[0]}),c}function j(a,b,c){if(Array.isArray(a[s])&&c.push.apply(c,a[s]),0!==b.length){var d=b[0];if(b=b.slice(1),-1!==d.indexOf(v)){var e=d.length;do d=d.substring(0,e),d in a&&j(a[d],b,c),e=d.lastIndexOf(v);while(-1!==e)}else d in a&&j(a[d],b,c);r in a&&j(a[r],b,c)}}function k(a){var b=a.split(u),c=[0,0];return b.forEach(function(a){a.length>0&&(c[0]++,c[1]+=a.split(v).length-1)}),c}function l(a,b){a.inspectors_.forEach(function(a){a(b)})}function m(a,b){if(window.console&&window.console.log){var c=window.console,d=c.error?"error":"log";c[d](a),b&&Object.keys(b).forEach(function(a){var e=b[a];c[d]("   - %s: %o",a,e),e instanceof Error&&e.stack&&c[d]("   - Stacktrace: %s",e.stack)})}}function n(a,b){return"function"==typeof a?a:b||function(a){return a}}var o,p,q,r="*",s=".",t="ax__events",u=".",v="-",w=/^([^.])([^.]*)Request(\..+)?$/;return d.prototype.setErrorHandler=function(a){this.errorHandler_=n(a,m)},d.prototype.setMediator=function(a){this.mediator_=n(a)},d.prototype.addInspector=function(b){return a(b).hasType(Function).isNotNull(),this.inspectors_.push(b),function(){var a=this.inspectors_.indexOf(b);-1!==a&&this.inspectors_.splice(a,1)}.bind(this)},d.prototype.subscribe=function(c,d,e){a(c).hasType(String).isNotNull(),a(d).hasType(Function).isNotNull();for(var f=b.options(e,{subscriber:null,clone:!0}),g={name:c,subscriber:d,subscriberName:f.subscriber,subscriptionWeight:k(c),options:f},h=c.split(u),i=this.subscriberTree_,j=0;j<h.length;++j){var m=h[j].length?h[j]:r;m in i||(i[m]={}),i=i[m]}s in i||(i[s]=[]),i[s].push(g),d.hasOwnProperty(t)||(d[t]=[]),d[t].push(c),l(this,{action:"subscribe",source:f.subscriber,target:"-",event:c,cycleId:this.currentCycle_})},d.prototype.unsubscribe=function(b){if(a(b).hasType(Function).isNotNull(),b.hasOwnProperty(t)&&Array.isArray(b[t])){var c=this,d=this.subscriberTree_;b[t].forEach(function(a){e(c,d,a.split(u),b)}),delete b[t]}},d.prototype.publish=function(d,e,g){a(d).hasType(String).isNotNull();var h=JSON.parse(JSON.stringify(e||{})),i=b.options(g,{deliverToSender:!0,sender:h.sender||null});h.sender&&c.warn("Deprecation warning: The event sender should be set in the options, not the event itself.\nSender: [0], Eventname: [1]",h.sender,d);var j={meta:{name:d,cycleId:this.currentCycle_>-1?this.currentCycle_:this.cycleCounter_++,sender:i.sender,initiator:null,options:i},event:h,publishedDeferred:o.defer()};return f(this,j),l(this,{action:"publish",source:i.sender,target:"-",event:d,eventObject:h,cycleId:j.meta.cycleId}),j.publishedDeferred.promise},d.prototype.publishAndGatherReplies=function(c,d,e){function f(b,c){a(c.sender).hasType(String).isNotNull("A response with will to a request-event must contain a sender."),n.push(c.sender)}function g(a,b){p.push({event:a,meta:b});var c=n.indexOf(b.sender);-1!==c&&n.splice(c,1),0===n.length&&r&&h()}function h(a){clearTimeout(s),j.unsubscribe(f),j.unsubscribe(g),(a?m.reject:m.resolve)(p)}a(c).hasType(String).isNotNull();var i=w.exec(c);a.state(!!i,'Expected eventName to end with "Request" but got '+c);var j=this,k=b.options(e,{pendingDidTimeout:this.config_.pendingDidTimeout}),l=i[1].toUpperCase()+i[2];i[3]&&(l+=i[3]);var m=o.defer(),n=[],p=[],r=!1;this.subscribe("will"+l,f,{subscriber:k.sender}),this.subscribe("did"+l,g,{subscriber:k.sender});var s=q(function(){if(n.length>0){var a="Timeout while waiting for pending did"+l+" on "+c+".";j.errorHandler_(a,{Sender:k.sender,"After ms timeout":k.pendingDidTimeout,"Responses missing from":n.join(", ")}),h(!0)}},k.pendingDidTimeout);return this.publish(c,d,k).then(function(){return 0===n.length?void h():void(r=!0)}),m.promise},{create:function(b){return a(o).isNotNull("Need a promise implementation like $q or Q"),a(p).hasType(Function).isNotNull("Need a next tick implementation like $timeout"),a(q).hasType(Function).isNotNull("Need a timeout implementation like $timeout or setTimeout"),new d(b)},init:function(a,b,c){o=a,p=b,q=c}}}),define("laxar/lib/file_resource_provider/file_resource_provider",["../utilities/assert","../utilities/string","../utilities/path","../utilities/configuration"],function(a,b,c,d){"use strict";function e(a){this.useEmbedded_=d.get("useEmbeddedFileListings",!1),this.rootPath_=c.normalize(a),this.fileListings_={},this.fileListingUris_={},this.httpGets_={},this.httpHeads_={},this.httpHeadCache_={}}function f(a,b){function c(a,b,c){for(var d=b.replace(a.rootPath_,"").replace(m,"").split("/"),e=0,f=d.length;f>e;++e){if(e===f-1){var g=c[d[e]];return a.useEmbedded_?"string"==typeof g?g:g===n:"string"==typeof g||g===n}if(c=c[d[e]],"object"!=typeof c)return!1}}var d=Object.keys(a.fileListingUris_).filter(function(a){return 0===b.indexOf(a)});if(d.length){var e=d[0];return h(a,e).then(function(d){return k.when(c(a,b,d))})}return k.reject()}function g(a){return/\.json$/.test(a)?function(a){return JSON.parse(a)}:function(a){return a}}function h(a,b){if(a.fileListings_[b])return k.when(a.fileListings_[b]);var c=a.fileListingUris_[b];return i(a,c).then(g(c)).then(function(c){return a.fileListings_[b]=c,c})}function i(a,b){if(b in a.httpGets_)return a.httpGets_[b];var c=a.httpGets_[b]=l.get(b,{transformResponse:[]}).then(function(a){return k.when(a.data)});return c.then(function(){delete a.httpGets_[b]}),c}function j(a,b){if(b in a.httpHeadCache_)return k.when(a.httpHeadCache_[b]);if(b in a.httpHeads_)return a.httpHeads_[b];var c=a.httpHeads_[b]=l.head(b).then(function(){return!0},function(){return!1});return c.then(function(c){a.httpHeadCache_[b]=c,delete a.httpHeads_[b]}),c}var k,l,m=/^\/|\/$/g,n=1;return e.prototype.provide=function(a){var b=this;return f(this,a).then(function(c){return"string"==typeof c?k.when(c).then(g(a)):c!==!1?i(b,a).then(g(a)):k.reject()},function(){return i(b,a).then(g(a))})},e.prototype.isAvailable=function(a){var b=this;return f(b,a).then(function(a){return k.when(a!==!1)},function(){return j(b,a).then(function(a){return k.when(a)})})},e.prototype.setFileListingUri=function(a,b){var d=c.join(this.rootPath_,a);this.fileListingUris_[d]=c.join(this.rootPath_,b),this.fileListings_[d]=null,h(this,d)},e.prototype.setFileListingContents=function(a,b){var d=c.join(this.rootPath_,a);this.fileListingUris_[d]="#",this.fileListings_[d]=b},{create:function(b){return a(k).isNotNull("Need a promise implementation like $q or Q"),a(l).isNotNull("Need a http client implementation like $http"),new e(b)},init:function(a,b){k=a,l=b}}}),define("laxar/lib/loaders/layout_loader",["../utilities/path"],function(a){"use strict";function b(b,c,d,e,f,g){function h(d){var f=a.join(b,d),g=f.substr(f.lastIndexOf("/")+1),h=g+".html",i="css/"+g+".css";return e.urlProvider(a.join(f,"[theme]"),a.join(c,"[theme]","layouts",d)).provide([h,i]).then(function(a){return{html:a[0],css:a[1],className:g.replace(/\//g,"").replace(/_/g,"-")+"-layout"}})}return{load:function(a){return h(a).then(function(a){return a.css&&d.load(a.css),a.html?f.provide(a.html).then(function(b){return a.htmlContent=b,g&&g.put(a.html,b),a}):a})}}}return{create:b}}),define("laxar/lib/runtime/theme_manager",["../utilities/assert","../utilities/path"],function(a,b){"use strict";function c(a,b,c){this.q_=b,this.fileResourceProvider_=a,this.theme_=c}function d(a,c,e){return 0===c.length?a.q_.when(null):a.fileResourceProvider_.isAvailable(b.join(c[0],e)).then(function(b){return b?a.q_.when(c[0]):d(a,c.slice(1),e)})}return c.prototype.getTheme=function(){return this.theme_},c.prototype.urlProvider=function(a,c,e){var f=this;return{provide:function(g){var h=[];if(f.theme_&&"default"!==f.theme_){var i=f.theme_+".theme";a&&h.push(a.replace("[theme]",i)),c&&h.push(c.replace("[theme]",i))}a&&h.push(a.replace("[theme]","default.theme")),e&&h.push(e);for(var j=[],k=0;k<g.length;++k)j.push(d(f,h,g[k]));return f.q_.all(j).then(function(a){return a.map(function(a,c){return null!==a?b.join(a,g[c]):null})})}}},{create:function(a,b,d){return new c(a,b,d)}}}),define("laxar/lib/runtime/runtime_services",["angular","../event_bus/event_bus","../i18n/i18n","../file_resource_provider/file_resource_provider","../logging/log","../utilities/object","../utilities/path","../loaders/layout_loader","../loaders/paths","../utilities/configuration","./theme_manager"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(b,c){e.error("EventBus: "+b),c&&a.forEach(c,function(a,b){var c="   - [0]: [1:%o]";-1!==p.indexOf(b)&&(c="   - [0]: [1:%o:anonymize]"),e.error(c,b,a),a instanceof Error&&a.stack&&e.error("   - Stacktrace: "+a.stack)})}var m,n=a.module("axRuntimeServices",[]);n.config(["$qProvider","$httpProvider",function(a,b){m=a,j.get(o)&&b.interceptors.push("axLogHttpInterceptor")}]),n.factory("axHeartbeat",["$window","$rootScope",function(a,b){function c(c){g||(g=!0,a.setTimeout(function(){for(;h.length;)h.shift()();do{for(;f.length;)f.shift()();b.$apply()}while(f.length);for(;i.length;)i.shift()();g=!1},0)),f.push(c)}function d(a){h.push(a)}function e(a){i.push(a)}var f=[],g=!1,h=[],i=[];return{onBeforeNext:d,onNext:c,onAfterNext:e}}]),n.factory("axTimestamp",function(){return function(){return(new Date).getTime()}}),n.factory("axGlobalEventBus",["$injector","$window","axHeartbeat","axConfiguration",function(a,c,d,e){var f=a.invoke(m.$get,m,{$rootScope:{$evalAsync:d.onNext}});b.init(f,d.onNext,function(a,b){c.setTimeout(a,b)});var g=b.create({pendingDidTimeout:e.get("eventBusTimeoutMs",12e4)});return g.setErrorHandler(l),g}]),n.factory("axConfiguration",[function(){return j}]),n.factory("axI18n",[function(){return c}]),n.factory("axFileResourceProvider",["$q","$http","axConfiguration",function(b,c,e){d.init(b,c);var f=d.create(i.PRODUCT),g=e.get("fileListings");return g&&a.forEach(g,function(a,b){"string"==typeof a?f.setFileListingUri(b,a):f.setFileListingContents(b,a)}),f}]),n.factory("axThemeManager",["$q","axConfiguration","axFileResourceProvider",function(a,b,c){var d=b.get("theme"),e=k.create(c,a,d);return{getTheme:e.getTheme.bind(e),urlProvider:e.urlProvider.bind(e)}}]),n.factory("axLayoutLoader",["$templateCache","axCssLoader","axThemeManager","axFileResourceProvider",function(a,b,c,d){return h.create(i.LAYOUTS,i.THEMES,b,c,d,a)}]),n.factory("axCssLoader",["axConfiguration","axThemeManager",function(b,c){function d(){if("boolean"!=typeof d.result&&(d.result=!1,document.createStyleSheet)){var a=navigator.userAgent.match(/MSIE ?(\d+(\.\d+)?)[^\d]/i);(!a||parseFloat(a[1])<10)&&(d.result=!0)}return d.result}function e(b,c){var d=document.createElement(b);a.forEach(c,function(a,b){d[b]=a}),document.getElementsByTagName("head")[0].appendChild(d)}var f=[].some.call(document.getElementsByTagName("link"),function(a){return a.hasAttribute("data-ax-merged-css")});if(f)return{load:function(){}};var h=[],j={load:function(a){if(-1===h.indexOf(a)){if(d()){var b="cssLoaderStyleSheet"+Math.floor(h.length/30);document.getElementById(b)||e("style",{type:"text/css",id:b}),document.getElementById(b).styleSheet.addImport(a)}else e("link",{type:"text/css",id:"cssLoaderStyleSheet"+h.length,rel:"stylesheet",href:a});h.push(a)}}};return b.get("useMergedCss",!1)?(j.load(g.join(i.PRODUCT,"var/static/css",c.getTheme()+".theme.css")),{load:function(){}}):j}]),n.factory("axVisibilityService",["axHeartbeat","$rootScope",function(a,b){function c(a){function c(){return h(d),j}var d=a.$id;a.$on("$destroy",c);for(var f=a;!(f===b||f.widget&&f.widget.area);)f=f.$parent;var i=f.widget&&f.widget.area;if(!i)throw new Error("axVisibilityService: could not determine widget area for scope: "+d);var j={isVisible:function(){return e(i)},onChange:function(a){return g(d,i,a,!0),g(d,i,a,!1),j},onShow:function(a){return g(d,i,a,!0),j},onHide:function(a){return g(d,i,a,!1),j},clear:c};return j}function d(){i={},j={},k={},l={}}function e(a){return i[a]||!1}function f(b,c){i[b]!==c&&(i[b]=c,a.onAfterNext(function(){var a=(c?j:k)[b];if(a)for(var d=a.length-1;d>=0;--d){var e=a[d];null===e.handler?a.splice(d,1):e.handler(c)}}))}function g(a,b,c,d){var e={handler:c};l[a]=l[a]||[],l[a].push(e);var f=d?j:k;f[b]=f[b]||[],f[b].push(e),b in i&&i[b]===d&&c(d)}function h(a){l[a]&&l[a].forEach(function(a){a.handler=null})}var i,j,k,l;return{isVisible:e,handlerFor:c,_updateState:f,_reset:d}}]),n.factory("axLogHttpInterceptor",["axConfiguration",function(b){var c=b.get(o,null);return c?{request:function(b){var d="";return a.forEach(e.gatherTags(),function(a,b){d+="["+b+":"+a+"]"}),d&&(b.headers[c]&&e.warn('axLogHttpInterceptor: Overwriting existing header "[0]"',c),b.headers[c]=d),b}}:{}}]);var o="logging.http.header";n.provider("$exceptionHandler",function(){var a=function(a,b){var c=a.message||a;e.error("There was an exception: "+c+", \nstack: "),e.error(a.stack+", \n"),e.error("  Cause: "+b)};this.$get=[function(){return a}]});var p=["Published event"];return n}),define("laxar/lib/json/schema",["../utilities/object"],function(a){"use strict";function b(c,e,f,g){var h={};if(Object.keys(c).forEach(function(i){var j=c[i];switch(i){case"required":if(j!==!0)break;!d(e,g)||"default"in c||("required"in f||(f.required=[]),f.required.push(e));break;case"items":h[i]=b(j,i,h,c);break;case"additionalProperties":"object"==typeof j?h[i]=b(j,i,h,c):h[i]=j;break;case"properties":case"patternProperties":h[i]={},a.forEach(j,function(a,d){h[i][d]=b(a,d,h,c)});break;default:h[i]=j}}),d(e,g)&&!c.required){var i=h.type;"string"==typeof i&&"null"!==i?h.type=[i,"null"]:Array.isArray(i)&&-1===i.indexOf("null")&&i.push("null")}return h}function c(a){!("properties"in a||"patternProperties"in a)||"additionalProperties"in a||(a.additionalProperties=!1),"properties"in a&&Object.keys(a.properties).forEach(function(b){c(a.properties[b])}),"additionalProperties"in a&&"object"==typeof a.additionalProperties&&c(a.additionalProperties),"patternProperties"in a&&Object.keys(a.patternProperties).forEach(function(b){c(a.patternProperties[b])}),"items"in a&&c(a.items)}function d(b,c){return c&&e(c,"object")&&a.path(c,"properties."+b)}function e(a,b){var c=a.type;return"string"==typeof c?c===b:Array.isArray(c)?-1!==c.indexOf(b):!0}return{transformV3ToV4:function(a){return b(a)},prohibitAdditionalProperties:function(a){c(a)}}}),define("laxar/lib/json/validator",["jjv","jjve","./schema","../utilities/object"],function(a,b,c,d){"use strict";function e(a,c,e,f){if(!a)return{errors:[]};var g=b(f);return{errors:g(c,e,a).map(function(a){return d.options({message:a.message+'. Path: "'+a.path+'".'},a)})}}var f="http://json-schema.org/draft-04/schema#";return{create:function(b,g){var h=a();g=d.options(g,{prohibitAdditionalProperties:!1}),h.defaultOptions=d.options(g,h.defaultOptions),"$schema"in b&&b.$schema===f||(b=c.transformV3ToV4(b),b.$schema=f,h.addType("any",function(a){return!0})),g.prohibitAdditionalProperties&&c.prohibitAdditionalProperties(b);var i=h.validate;return h.validate=function(a){var c=i.call(h,b,a);return e(c,b,a,h)},h},JSON_SCHEMA_V4_URI:f}}),define("laxar/lib/utilities/timer",["./object","./storage","../logging/log"],function(a,b,c){"use strict";function d(b){this.options_=a.options(b,{label:"timer"+i++,persistenceKey:null}),this.startTime_=null,this.stopTime_=null,this.splitTimes_=[]}function e(){return(new Date).getTime()}function f(a){a.options_.persistenceKey&&j.setItem(a.options_.persistenceKey,{options:a.options_,startTime:a.startTime_,stopTime:a.stopTime_,splitTimes:a.splitTimes_})}function g(a){if(a.options_.persistenceKey){var b=j.getItem(a.options_.persistenceKey);if(b)return a.options_=b.options,a.startTime_=b.startTime,a.stopTime_=b.stopTime,a.splitTimes_=b.splitTimes,
!0}return!1}function h(a){a.options_.persistenceKey&&j.removeItem(a.options_.persistenceKey)}var i=0,j=b.getSessionStorage("timer");return d.prototype.getData=function(){return{label:this.options_.label,startTime:this.startTime_,stopTime:this.stopTime_,splitTimes:a.deepClone(this.splitTimes_)}},d.prototype.start=function(){this.startTime_=e(),f(this)},d.prototype.splitTime=function(a){this.splitTimes_.push({time:e(),label:a||"split"+this.splitTimes_.length}),f(this)},d.prototype.stop=function(){this.stopTime_=e(),h(this)},d.prototype.stopAndLog=function(a){this.stop();var b=this.startTime_,d=e(),f=a||"Timer Stopped";this.splitTimes_.push({label:f,time:d});var g=[];g.push('Timer "',this.options_.label,'": '),g.push("start at ",new Date(b).toISOString()," (client), "),g.push(f," after ",(d-b).toFixed(0),"ms "),g.push("(checkpoints: ");var h=[];this.splitTimes_.reduce(function(a,b){return h.push('"'+b.label+'"='+(b.time-a).toFixed(0)+"ms"),b.time},b),g.push(h.join(", "),")"),c.info(g.join(""))},{started:function(a){var b=new d(a);return b.start(),b},resumedOrStarted:function(a){var b=new d(a);return g(b)||b.start(),b}}}),define("json!laxar/static/schemas/flow.json",function(){return{$schema:"http://json-schema.org/draft-04/schema#",type:"object",required:["places"],properties:{places:{type:"object",description:"The places for this flow.",patternProperties:{"[a-z][a-zA-Z0-9_]*":{type:"object",properties:{redirectTo:{type:"string",description:"The place to redirect to when hitting this place."},page:{type:"string",description:"The page to render for this place."},targets:{type:"object",patternProperties:{"[a-z][a-zA-Z0-9_]*":{type:"string"}},description:"A map of symbolic targets to places reachable from this place."},entryPoints:{type:"object",patternProperties:{"[a-z][a-zA-Z0-9_]*":{type:"string"}},description:"Entry points defined by this place."},exitPoint:{type:"string",description:"The exit point to invoke when reaching this place."}},additionalProperties:!1}},additionalProperties:!1}},additionalProperties:!1}}),define("laxar/lib/runtime/flow",["angular","angular-route","../logging/log","../json/validator","../utilities/object","../utilities/timer","../utilities/path","../loaders/paths","json!../../static/schemas/flow.json"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(b,c){var d={};return a.forEach(c.expectedParameters,function(a){d[a]=m(b[a])}),d}function k(a,b){var d=e.path(b,"targets."+a,a);return d in y?d:void c.error('Unknown target or place "[0]".',a)}function l(a){return null==a?"_":"string"==typeof a?a.replace(/\//g,"%2F"):a}function m(a){return null==a||""===a||"_"===a?null:"string"==typeof a?a.replace(/%2F/g,"/"):a}function n(a){return r(a).then(function(a){y=q(a),e.forEach(y,function(a,b){o(b,a)}),t.otherwise({redirectTo:"/entry"})})}function o(a,b){return b.redirectTo?void t.when("/"+a,{redirectTo:b.redirectTo}):b.entryPoints?void t.when("/"+a,{redirectTo:p(b.entryPoints)}):b.page||b.exitPoint?void t.when("/"+a,{template:"<!---->",controller:"AxFlowController",resolve:{place:function(){return b}}}):void c.warn("flow: invalid empty place: [0]",b.id)}function p(a){var b=x||{target:"default",parameters:{}},c=a[b.target];if(c){var d=y[c],f=c,g=b.parameters||{};return e.forEach(d.expectedParameters,function(a){f+="/"+l(g[a])}),f}}function q(a){var b={};return e.forEach(a,function(a,c){a.expectedParameters=[],a.id=c,a.targets||(a.targets={}),a.targets[C]||(a.targets[C]=c.split(/\/:/)[0]);for(var d;d=J.exec(c);){var e=c.substr(0,d.index);a.expectedParameters.push(d[1]),b[e]=a}b[c]=a}),b}function r(a){return v.provide(a).then(function(a){return s(a),a.places},function(b){throw new Error('Failed to load "'+a+'". Cause: '+b)})}function s(a){var b=d.create(i).validate(a);if(b.errors.length)throw b.errors.forEach(function(a){c.error("[0]",a.message)}),new Error("Illegal flow.json format")}var t,u=a.module("axFlow",["ngRoute"]);u.config(["$routeProvider",function(a){t=a}]);var v,w,x;u.run(["$route","axConfiguration","axFileResourceProvider",function(a,b,c){v=c,x=b.get("flow.entryPoint"),w=b.get("flow.exitPoints"),n(g.normalize(h.FLOW_JSON)).then(function(){a.reload()})}]);var y,z,A,B="navigationTimer",C="_self",D=C,E=null,F={},G=!1,H={sender:"AxFlowController"},I={subscriber:"AxFlowController"};u.controller("AxFlowController",["$window","$location","$routeParams","place","axGlobalEventBus","axFlowService","axPageService",function(a,b,d,g,h,i,l){function m(a,c){if(!G){G=!0,D=a.target;var d=k(D,g),e=y[d];A=f.started({label:["navigation (",g?g.targets._self:""," -> ",e.targets._self,")"].join(""),persistenceKey:B});var h=i.constructPath(a.target,a.data);h!==b.path()?(b.path(h),c.unsubscribe()):G=!1}}function n(a,b){return h.subscribe("navigateRequest",m,I),c.setTag("PLCE",g.id),z&&h.unsubscribe(z),z=m,G=!1,h.publish("didNavigate."+a,b,H)}z&&(h.unsubscribe(z),z=null);var o=E;if(E=g,F=j(d,g),"string"==typeof g.exitPoint){var p=g.exitPoint;if(w&&"function"==typeof w[p])return void w[p](F);throw new Error('Exitpoint "'+p+'" does not exist.')}G=!0;var q={target:D},r=e.options({data:{},place:g.id},q);h.publish("willNavigate."+D,q,H).then(function(){return r.data=F,g===o?n(D,r):l.controller().tearDownPage().then(function(){return A=f.resumedOrStarted({label:["loadTimer (",g.target?g.target._self:g.id,")"].join(""),persistenceKey:B}),l.controller().setupPage(g.page)}).then(function(){return n(D,r)}).then(function(){A.stopAndLog("didNavigate")})}).then(null,function(a){c.error(a)})}]),u.factory("axFlowService",["$location",function(a){var b={constructPath:function(a,b){var c=e.options(b,F||{}),d=k(a,E),f=y[d],g="/"+d;return e.forEach(f.expectedParameters,function(a){g+="/"+l(c[a])}),g},constructAnchor:function(a,c){return"#"+b.constructPath(a,c)},constructAbsoluteUrl:function(c,d){var e=a.absUrl().split("#")[0];return e+b.constructAnchor(c,d)},place:function(){return e.deepClone(E)}};return b}]);var J=/\/:([^\/]+)/gi;return u}),define("laxar/lib/loaders/features_provider",["../json/validator","../utilities/object","../utilities/string"],function(a,b,c){"use strict";function d(a,c,d){if(!a.features)return{};var f=c.features||{},g=a.features;"$schema"in g||(g={$schema:"http://json-schema.org/draft-03/schema#",type:"object",properties:a.features}),b.forEach(g.properties,function(a,b){b in f||("object"===a.type?f[b]={}:"array"===a.type&&(f[b]=[]))});var h=e(g),i=h.validate(f);if(i.errors.length>0){var j="Validation for widget features failed. Errors: ";i.errors.forEach(function(a){j+="\n - "+a.message.replace(/\[/g,"\\[")}),d(j)}return f}function e(b){var c=a.create(b,{prohibitAdditionalProperties:!0,useDefault:!0});return c.addFormat("sub-topic",function(a){return"string"!=typeof a||g.test(a)}),c.addFormat("topic",function(a){return"string"!=typeof a||h.test(a)}),c.addFormat("flag-topic",function(a){return"string"!=typeof a||i.test(a)}),c.addFormat("language-tag",function(a){return"string"!=typeof a||j.test(a)}),c.addFormat("topic-map",function(a){return"object"!=typeof a||Object.keys(a).every(function(a){return h.test(a)})}),c.addFormat("localization",function(a){return"object"!=typeof a||Object.keys(a).every(function(a){return j.test(a)})}),c}var f="([a-z][+a-zA-Z0-9]*|[A-Z][+A-Z0-9]*)",g=new RegExp("^"+f+"$"),h=new RegExp("^("+f+"(-"+f+")*)$"),i=new RegExp("^[!]?("+f+"(-"+f+")*)$"),j=/^[a-z]{2,8}([-_][a-z0-9]{2,8})*([-_][a-z0-9][-_][a-z0-9]{2,8})*$/i;return{featuresForWidget:d}}),define("json!laxar/static/schemas/page.json",function(){return{$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{layout:{type:"string",description:"The layout to use. May be omitted if another page in the extension hierarchy defines one."},"extends":{type:"string",description:"The name of the page to extend."},areas:{type:"object",description:"A map from area name to a list of widgets to display within that area.",patternProperties:{"^[a-z][\\.a-zA-Z0-9_]*$":{type:"array",items:{type:"object",properties:{widget:{type:"string",description:"Path to the widget that should be rendered."},composition:{type:"string",description:"Path to the composition that should be included."},id:{type:"string",pattern:"^[a-z][a-zA-Z0-9_]*$",description:"ID of the widget or composition. Will be generated if missing."},insertBeforeId:{type:"string",description:"The ID of the widget this widget or composition should be inserted before."},features:{type:"object",description:"Configuration of the features defined by the widget or composition."},enabled:{type:"boolean","default":!0,description:"Set to false to omit widgets e.g. for debugging purposes."}},additionalProperties:!1}}},additionalProperties:!1}},additionalProperties:!1}}),define("laxar/lib/loaders/page_loader",["../utilities/assert","../utilities/object","../utilities/string","../utilities/path","../json/validator","./features_provider","json!../../static/schemas/page.json"],function(a,b,c,d,e,f,g){"use strict";function h(a,b,c,d){this.q_=a,this.httpClient_=b,this.baseUrl_=c,this.fileResourceProvider_=d,this.idCounter_=0}function i(a,b,c){var d,e=u(a.baseUrl_,b);return-1!==c.indexOf(b)&&B({name:b},"Cycle in page extension detected: "+c.concat([b]).join(" -> ")),w(a,e).then(function(a){s(a,b),d=a,d.name=b.replace(G,""),d.selfLink=e,d.areas||(d.areas={})},function(){B({name:b},'Page could not be found at location "'+e+'"')}).then(function(){return j(a,d,c)}).then(function(){return l(a,d,[],d)}).then(function(){return r(a,d)}).then(function(){return d})}function j(a,b,c){return v(b,"extends")?i(a,b["extends"],c.concat([b.name])).then(function(a){k(b,a)}):void 0}function k(a,d){var e=a.areas,f=b.deepClone(d.areas);v(d,"layout")&&(v(a,"layout")&&B(a,c.format('Page overwrites layout set by base page "[name]',d)),a.layout=d.layout),b.forEach(e,function(b,c){return c in f?void t(f[c],b,a):void(f[c]=b)}),a.areas=f}function l(a,c,d,e){var f=a.q_.when(),g={};return b.forEach(c.areas,function(b){for(var h=b.length-1;h>=0;--h)!function(h,i){if(v(h,"composition")){if(h.enabled===!1)return;var j=h.composition;if(-1!==d.indexOf(j)){var k="Cycle in compositions detected: "+d.concat([j]).join(" -> ");B(e,k)}if(!v(h,"id")){var p=h.composition.replace(C,y);h.id=x(a,p)}h.id in g?g[h.id]++:g[h.id]=1,f=f.then(function(){return w(a,u(a.baseUrl_,j))}).then(function(a){return n(a,h)}).then(function(a){return o(a,h,B.bind(null,e))}).then(function(b){var c=d.concat(j);return l(a,b,c,e).then(function(){return b})}).then(function(a){m(a,c,b,i)})}}(b[h],h)}),q(c,g),f}function m(a,c,d,e){b.forEach(a.areas,function(a,b){return"."===b?void A(d,e,a):b in c.areas?void t(c.areas[b],a,c):void(c.areas[b]=a)})}function n(a,c){var d={};return b.forEach(a.areas,function(a,b){return a.forEach(function(a){v(a,"id")&&(a.id=c.id+D+a.id)}),b.indexOf(".")>0?void(d[c.id+D+b]=a):void(d[b]=a)}),a.areas=d,a}function o(a,c,d){function e(a){var d=a.match(H);if(!d)return a;var e,f=d[1],h=d[2];return e=0===h.indexOf(I)?z(c.id)+F+h.substr(I.length):b.path(g,h),"string"==typeof e&&f?f+e:e}var g={};if(a.features=p(a.features||{},e),g.features=f.featuresForWidget(a,c,d),"object"==typeof a.mergedFeatures){var h=p(a.mergedFeatures,e);Object.keys(h).forEach(function(a){var c=b.path(g.features,a,[]),d=h[a];b.setPath(g.features,a,d.concat(c))})}return a.areas=p(a.areas,e),a}function p(a,c){if(null===a)return a;if(Array.isArray(a))return a.map(function(a){return"object"==typeof a?p(a,c):"string"==typeof a?c(a):a}).filter(function(a){return"undefined"!=typeof a});var d={};return b.forEach(a,function(a,b){var e=c(b);if("object"==typeof a)return void(d[e]=p(a,c));var f="string"==typeof a?c(a):a;"undefined"!=typeof f&&(d[e]=f)}),d}function q(a,b){var c=Object.keys(b).filter(function(a){return b[a]>1});c.length&&B(a,"Duplicate composition ID(s): "+c.join(", "))}function r(a,c){var d={};b.forEach(c.areas,function(b,e){c.areas[e]=b.filter(function(b){if(b.enabled===!1)return!1;if(v(b,"widget")){if(!v(b,"id")){var c=b.widget.split("/").pop();b.id=x(a,c.replace(C,y))}d[b.id]=d[b.id]?d[b.id]+1:1}return!0})});var e=Object.keys(d).filter(function(a){return d[a]>1});e.length&&B(c,"Duplicate widget ID(s): "+e.join(", "))}function s(a,b){var c=e.create(g).validate(a);if(c.errors.length){var d=c.errors.reduce(function(a,b){return a+"\n - "+b.message},"");B({name:b},"Schema validation failed: "+d)}}function t(a,b,d){b.forEach(function(b){if(b.insertBeforeId){for(var e=0,f=a.length;f>e;++e)if(a[e].id===b.insertBeforeId)return void a.splice(e,0,b);B(d,c.format('No id found that matches insertBeforeId value "[insertBeforeId]"',b))}a.push(b)})}function u(a,b){return b.match(G)||(b+=".json"),d.join(a,b)}function v(a,b){return"string"==typeof a[b]&&a[b].length}function w(a,b){return a.fileResourceProvider_?a.fileResourceProvider_.provide(b):a.httpClient_.get(b).then(function(a){return a.data})}function x(a,b){return b+D+"id"+a.idCounter_++}function y(a){return a.charAt(1).toUpperCase()}function z(a){return a.replace(E,F).replace(C,y)}function A(a,b,c){a.splice.apply(a,[b,1].concat(c))}function B(a,b){var d=c.format('Error loading page "[name]": [0]',[b],a);throw new Error(d)}var C=/[_/-]./g,D="-",E=/\-/g,F="+",G=/\.json$/,H=/^(!?)\$\{([^}]+)\}$/,I="topic:";return h.prototype.loadPage=function(a){return i(this,a,[])},{create:function(b,c,d,e){return a(b).isNotNull(),null===e&&a(c).isNotNull(),a(d).isNotNull(),new h(b,c,d,e)}}}),define("laxar/lib/widget_adapters/plain_adapter",[],function(){"use strict";function a(a){a.forEach(function(a){c[a.name]=a})}function b(a){function b(){var a=c[i],b=f(),d=(a.injections||[]).map(function(a){return b.get(a)});k=a.create.apply(a,d)}function d(b,c){null!==c&&(a.anchorElement.innerHTML=c,b.appendChild(a.anchorElement),k.renderTo(a.anchorElement))}function e(){var b=a.anchorElement.parentNode;b&&b.removeChild(a.anchorElement)}function f(){var a={axContext:j,axEventBus:j.eventBus,axFeatures:j.features||{}};return{get:function(b){if(!(b in a))throw new Error('Unknown dependency "'+b+'".');return a[b]}}}var g={createController:b,domAttachTo:d,domDetach:e,destroy:function(){}},h=a.specification.name,i=h.replace(/^./,function(a){return a.toLowerCase()}),j=a.context,k=null;return g}var c={};return{technology:"plain",bootstrap:a,create:b}}),define("laxar/lib/widget_adapters/angular_adapter",["angular","require","../utilities/assert","../logging/log"],function(a,b,c,d){"use strict";function e(b){var c=(b||[]).map(function(a){return l[a.name]=g(a.name)+"Controller",h(a.name),a.name});return a.module("axAngularWidgetAdapter",c).run(["$compile","$controller","$rootScope",function(a,b,c){j=b,i=a,k=c}])}function f(b){function c(){var c=b.specification.name,d=c.replace(/^./,function(a){return a.toLowerCase()}),e=l[d];h={axContext:n,axEventBus:n.eventBus},Object.defineProperty(h,"$scope",{get:function(){return g||(g=k.$new(),a.extend(g,n)),g}}),j(e,h)}function d(c,d){if(null!==d){var e=a.element(b.anchorElement);e.html(d),c.appendChild(b.anchorElement),i(b.anchorElement)(h.$scope),d=null}}function e(){var a=b.anchorElement.parentNode;a&&a.removeChild(b.anchorElement)}function f(){g&&g.$destroy()}var g,h,m={createController:c,domAttachTo:d,domDetach:e,destroy:f},n=b.context;return m}function g(a){return a.replace(/^./,function(a){return a.toUpperCase()})}function h(a){if(-1!==a.indexOf(".")){var b=a.replace(/^.*\.([^.]+)$/,function(a,b){return b.replace(/_(.)/g,function(a,b){return b.toUpperCase()})});l[b]=l[a]=a+".Controller",d.warn('Deprecation: AngularJS widget module name "'+a+'" violates naming rules! Module should be named "'+b+'". Controller should be named "'+g(b)+'Controller".')}}var i,j,k,l={};return{technology:"angular",bootstrap:e,create:f}}),define("laxar/lib/widget_adapters/adapters",["./plain_adapter","./angular_adapter"],function(a,b){"use strict";var c={};return c[a.technology]=a,c[b.technology]=b,{getFor:function(a){return c[a]},addAdapters:function(a){a.forEach(function(a){c[a.technology]=a})}}}),define("laxar/lib/loaders/widget_loader",["../logging/log","../utilities/path","../utilities/assert","../utilities/object","../utilities/string","./paths","./features_provider","../widget_adapters/adapters"],function(a,b,c,d,e,f,g,h){"use strict";function i(c,e,i,s,t){function u(c){var i=c.widget,s=b.join(f.WIDGETS,i,"widget.json");return e.provide(s).then(function(a){var b=d.options(a.integration,q),e=b.type,f=b.technology;e===p&&(e=n),e!==n&&e!==o&&k(c,"unknown integration type "+e);var s=k.bind(null,c),u=g.featuresForWidget(a,c,s),w=document.createElement("DIV");w.className=j(a.name),w.id="ax"+r+c.id;var x=m(t,a,c),y=h.getFor(f).create({anchorElement:w,context:{eventBus:x,features:u,id:l(c.id),widget:{area:c.area,id:c.id,path:c.widget}},specification:a});return y.createController(),{id:c.id,adapter:y,destroy:function(){x.release(),y.destroy()},templatePromise:v(i,b,a)}},function(b){var c="Could not load spec for widget [0] from [1]: [2]";a.error(c,i,s,b)})}function v(a,d,g){function h(){var d=a.split("/").pop(),h=b.join(f.WIDGETS,a),k=d+".html",l=b.join("css/",d+".css"),m=[];return m.push(i.urlProvider(b.join(h,"[theme]"),b.join(f.THEMES,"[theme]","widgets",a)).provide([k,l])),m=m.concat((g.controls||[]).map(function(a){var c=b.normalize(require.toUrl(b.join(a,"control"))),d=c+".json";return e.provide(d).then(function(a){var d=j(a.name);return i.urlProvider(b.join(c.replace(/\/control$/,""),"[theme]"),b.join(f.THEMES,"[theme]","controls",d)).provide([b.join("css/",d+".css")])},function(){var c=a.split("/").pop();return i.urlProvider(b.join(require.toUrl(a),"[theme]"),b.join(f.THEMES,"[theme]",a)).provide([b.join("css/",c+".css")])})})),c.all(m).then(function(a){var b=a[0],c=a.slice(1).map(function(a){return a[0]}).concat(b.slice(1)).filter(function(a){return!!a});return{templateUrl:b[0]||"",cssFileUrls:c}})}return d.type===o?c.when(null):h().then(function(a){return a.cssFileUrls.forEach(function(a){s.load(a)}),a.templateUrl?e.provide(a.templateUrl):null})}return{load:u}}function j(a){return a.replace(/[A-Z]/g,function(a,b){return(b>0?"-":"")+a.toLowerCase()})}function k(a,b){throw new Error(e.format('Error loading widget "[widget]" (id: "[id]"): [0]',[b],a))}function l(a){function b(a){return String.fromCharCode(c+a.charCodeAt(0)%26)}var c="a".charCodeAt(0),d="ax"+r+a.replace(s,b)+r;return function(a){return d+(""+a).replace(s,b)}}function m(a,b,c){function e(b){return function(){return a[b].apply(a,arguments)}}function f(a){return d.options(a,{sender:h})}function g(b){a.unsubscribe(b)}var h="widget."+b.name+"#"+c.id,i=[];return{addInspector:e("addInspector"),setErrorHandler:e("setErrorHandler"),setMediator:e("setMediator"),unsubscribe:g,subscribe:function(b,c,e){i.push(c);var f=d.options(e,{subscriber:h});a.subscribe(b,c,f)},publish:function(b,c,d){return a.publish(b,c,f(d))},publishAndGatherReplies:function(b,c,d){return a.publishAndGatherReplies(b,c,f(d))},release:function(){i.forEach(g)}}}var n="widget",o="activity",p="angular",q={type:n,technology:p},r="-",s=/[^A-Za-z0-9_\.-]/g;return{create:i}}),define("laxar/lib/runtime/area_helper",["angular"],function(a){"use strict";function b(b,c,d){function e(a,b){b&&m&&k(a),d._updateState(a,b)}function f(a){return q[a]}function g(a){return r[a]}function h(a,b){if(a in n)throw new Error('The area "'+a+'" is defined twice in the current layout.');return n[a]=b,m&&d.isVisible(a)&&k(a),function(){delete n[a]}}function i(a){return a in n}function j(b){m=!0,b.forEach(function(a){var b=p[a.id];o[b]=o[b]||[],o[b].push(a)}),a.forEach(c.areas,function(a,b){d.isVisible(b)&&k(b)})}function k(c){var d=o[c];if(d&&d.length){var e=n[c];e&&(b.all(d.map(function(a){return a.templatePromise})).then(function(b){var c=e.lastChild;c&&a.element(c).removeClass("last");var f=e.firstChild;if(d.forEach(function(a,c){a.adapter.domAttachTo(e,b[c])}),!f){var g=e.firstChild;g&&(g.className+=" first")}var h=e.lastChild;h&&(h.className+=" last")}),delete o[c])}}var l={setVisibility:e,areasInArea:f,areasInWidget:g,register:h,exists:i,attachWidgets:j};d._reset();var m=!1,n={},o={},p={};a.forEach(c.areas,function(a,b){a.forEach(function(a){p[a.id]=b})});var q={},r={};return a.forEach(c.areas,function(a,b){var c="";if(-1!==b.indexOf(".")){var d=b.split(".")[0];r[d]=r[d]||[],r[d].push(b),c=p[d]}q[c]=q[c]||[],q[c].push(b)}),l}return b}),define("laxar/lib/runtime/locale_event_manager",["../utilities/object"],function(a){"use strict";function b(b,e,f){function g(a){l[a.locale]=a.languageTag,m&&h(a.locale)}function h(a){var b={locale:a,languageTag:l[a]};return e.publish("didChangeLocale."+a,b,c)}function i(){return m=!0,b.all(Object.keys(o).map(h))}function j(){e.unsubscribe(g)}function k(){l=a.deepClone(o),m=!1,e.subscribe("changeLocaleRequest",g,d)}var l,m,n={initialize:i,subscribe:k,unsubscribe:j},o=f.get("i18n.locales",{"default":"en"});return n}var c={sender:"AxPageController"},d={subscriber:"AxPageController"};return b}),define("laxar/lib/runtime/visibility_event_manager",[],function(){"use strict";function a(a,d){function e(a){o=a}function f(){d.subscribe("changeWidgetVisibilityRequest",g,c),d.subscribe("changeAreaVisibilityRequest",h,c),m(q,!0)}function g(c){var e=o.areasInWidget(c.widget),f=["willChangeWidgetVisibility",c.widget,c.visible].join("."),g=["didChangeWidgetVisibility",c.widget,c.visible].join(".");d.publish(f,c,b),a.all((e||[]).map(c.visible?i:j)).then(function(){d.publish(g,c,b)})}function h(a){return l(a.area,a.visible)}function i(a){return k(a,!0)}function j(a){return k(a,!1)}function k(a,c){var e=["changeAreaVisibilityRequest",a].join("."),f={area:a,visible:c};return d.publishAndGatherReplies(e,f,b).then(function(b){if(0===b.length)return l(a,c);var d=b[0];return m(a,d.event.visible)})}function l(a,c){var e=["willChangeAreaVisibility",a,c].join("."),f={area:a,visible:c};d.publish(e,f,b).then(function(){return m(a,c)}).then(function(){var e=["didChangeAreaVisibility",a,c].join(".");return d.publish(e,f,b)})}function m(b,c){o.setVisibility(b,c);var d=o.areasInArea(b);return d?a.all(d.map(c?i:j)):a.when()}function n(){d.unsubscribe(h),d.unsubscribe(g)}var o,p={initialize:f,setAreaHelper:e,unsubscribe:n},q="";return p}var b={sender:"AxPageController",deliverToSender:!1},c={subscriber:"AxPageController"};return a}),define("laxar/lib/runtime/page",["angular","../utilities/assert","../directives/layout/layout","../loaders/page_loader","../loaders/widget_loader","../loaders/paths","./area_helper","./locale_event_manager","./visibility_event_manager"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=a.module("axPage",[c.name]),k=5;return j.service("axPageService",[function(){var a;return{controller:function(){return a},registerPageController:function(b){return a=b,function(){a=null}},controllerForScope:function(b){return a}}}]),j.controller("AxPageController",["$scope","$q","$timeout","axPageService","axVisibilityService","axConfiguration","axCssLoader","axLayoutLoader","axGlobalEventBus","axFileResourceProvider","axThemeManager",function(c,j,l,m,n,o,p,q,r,s,t){function u(b){var c=[];return a.forEach(b.areas,function(a,b){a.forEach(function(a){a.area=b,c.push(a)})}),c}function v(){return r.publishAndGatherReplies("beginLifecycleRequest.default",H,I)}function w(){return r.publish("didChangeTheme."+E,{theme:E},I)}function x(a){var b=e.create(j,s,t,p,r),c=j.defer(),d=C.loadPage(a).then(function(a){A=g(j,a,n),G.setAreaHelper(A),B.areas=A,q.load(a.layout).then(c.resolve),F.subscribe();var d=u(a);return j.all(d.map(b.load))}).then(function(a){D=a}).then(F.initialize).then(w).then(v).then(G.initialize),f=c.promise.then(function(a){J(a)}),h=d.then(function(){return l(function(){},k,!1)});return j.all([f,h]).then(function(){A.attachWidgets(D)})}function y(){return G.unsubscribe(),F.unsubscribe(),r.publishAndGatherReplies("endLifecycleRequest.default",H,I).then(function(){D.forEach(function(a){a.destroy()}),D=[]})}function z(a){J=a}var A,B=this,C=d.create(j,null,f.PAGES,s),D=[],E=t.getTheme(),F=h(j,r,o),G=i(j,r),H={lifecycleId:"default"},I={sender:"AxPageController"},J=function(a){b.codeIsUnreachable("No renderer for page layout "+a.className)},K=m.registerPageController(this);c.$on("$destroy",K),this.setupPage=x,this.tearDownPage=y,this.registerLayoutRenderer=z}]),j.directive("axPage",["$compile",function(a){var b=[{name:"activities",hidden:!0},{name:"popups"},{name:"popovers"}];return{restrict:"A",template:'<div data-ng-class="layoutClass"></div>',replace:!0,scope:!0,controller:"AxPageController",link:function(c,d,e,f){f.registerLayoutRenderer(function(e){c.layoutClass=e.className,d.html(e.htmlContent),a(d.contents())(c);var g=b.reduce(function(a,b){return f.areas.exists(b.name)?a:a+'<div data-ax-widget-area="'+b.name+'"'+(b.hidden?' style="display: none;"':"")+"></div>"},"");g&&d.append(a(g)(c))})}}}]),j}),define("laxar/lib/profiling/output",["angular"],function(a){"use strict";function b(b,c,j){var k=b.items,l=!!j.match(/^[A-Za-z0-9]{3}$/)&&j in k,m=j,n=[];l?n=k[j].watchers:(m=b.widgetIdToScopeId[j],n=f(Object.keys(k).map(function(a){return k[a]}).filter(function(a){return a.context.widgetId===j}),function(a){return a.watchers}));var o=[].slice.call(i.document.getElementsByClassName("ng-scope"),0).concat([i.document]).map(function(b){return{element:b,scope:a.element(b).scope()}}).filter(function(a){return a.scope.$id===m})[0]||null;g('Showing details for %s with id "%s"',l?"scope":"widget",j),o&&g("Context: Scope: %o, Element %o",o.scope,o.element);var p=n.map(function(a){var b={};if(!c||"watchFn"===c){var f=a.watchFn;b.Watcher=f.name,b["Watcher ms total"]=e(f.time,3),b["Watcher ms average"]=e(d(f.time,f.count),3),b["Watcher # executions"]=f.count}if(!c||"listener"===c){var g=a.listener;b.Listener=g.name,b["Listener ms total"]=e(g.time,3),b["Listener ms average"]=e(d(g.time,g.count),3),b["Listener # executions"]=g.count}return b});h(p)}function c(b,c){var f=b.items,g=[],i=0,j=0,k=0,l=0,m={};a.forEach(f,function(a,b){var c=a.context.widgetId;return c?(c in m||(m[c]={context:a.context,watchers:[]}),void[].push.apply(m[c].watchers,a.watchers)):void(m[b]=a)}),a.forEach(m,function(a){var b=0,f=0,h=0,m=0;a.watchers.forEach(function(a){b+=a[c].time,f+=a[c].count,h+="f"===a[c].type?1:0,m+="s"===a[c].type?1:0},0),g.push({"Widget name":a.context.widgetName||"?","Widget id":a.context.widgetId||"?","Scope id":a.context.widgetScopeId||a.context.scopeId,"# functions":h,"# strings":m,"# total:":h+m,"ms total":e(b,3),"ms average":e(d(b,f),3),"# of executions":f}),i+=h,j+=m,k+=b,l+=f}),g.push({"Widget name":"","Widget id":"","Scope id":"Total:","# functions":i,"# strings":j,"# total:":i+j,"ms total":e(k,3),"ms average":e(d(k,l),3),"# of executions":l}),h(g)}function d(a,b){return b>0?a/b:0}function e(a,b){var c=0===b?1:Math.pow(10,b);return Math.round(a*c)/c}function f(a,b){return Array.prototype.concat.apply([],a.map(b))}function g(a,b){i.console&&i.console.log&&Function.apply.apply(i.console.log,[i.console,arguments])}function h(a){i.console.table?i.console.table(a):g(JSON.stringify(a,null,2))}var i;return{create:function(a){return i=a,{log:g,logForId:b,logAll:c}}}}),define("laxar/lib/profiling/profiling",["angular","./output"],function(a,b){"use strict";function c(a,b,c,h){var i="function"==typeof b,l="function"==typeof c,m=j.items,n=f(a);a.$id in m||(m[a.$id]={context:n,watchers:[]},a.$on("$destroy",function(){d(a),delete m[a.$id]})),n.widgetScopeId&&(n.widgetId in j.widgetIdToScopeId||(j.widgetIdToScopeId[n.widgetId]=n.widgetScopeId));var o={watchFn:{type:i?"f":"s",name:i?g(b)+"()":b,time:0,count:0},listener:{type:l?"f":"s",name:l?g(c)+"()":c,time:0,count:0}};m[a.$id].watchers.push(o);var p=k.call(a,b,c,h),q=a.$$watchers[0];return q.get=e(q.get,o.watchFn),q.fn=e(q.fn,o.listener),function(){p(),d(a)}}function d(a){delete j.items[a.$id],Object.keys(j.widgetIdToScopeId).forEach(function(b){j.widgetIdToScopeId[b]===a.$id&&delete j.widgetIdToScopeId[b]})}function e(a,b){return function(){var c=l.performance.now(),d=a.apply(null,arguments),e=l.performance.now()-c;return++b.count,b.time+=e,d}}function f(a){for(var b=a;!b.hasOwnProperty("widget")&&b!==b.$root;)b=b.$parent;var c=!!b.widget;return{widgetName:c?b.widget.path:"",widgetId:c?b.widget.id:"",widgetScopeId:c?b.$id:null,scopeId:a.$id}}function g(a){if(a.name&&"string"==typeof a.name)return a.name;var b=o.exec(a.toString());return b?b[1].trim():"[anonymous]"}function h(){m.log('Available commands:\n\n - help():\n     prints this help\n\n - log( [scopeOrWidgetId] ):\n     If the argument is omitted this is the same as calling\n     logWatchers() first and logListeners() afterwards.\n     Otherwise all listeners and watchers of the widget or scope\n     with the given id are logged in one table\n\n - logWatchers( [scopeOrWidgetId] ):\n     If the argument is omitted the watchers of all scopes belonging to\n     a specific widget or of global scopes are logged.\n     Otherwise more detailed data for the watchers of the given scope\n     or widget are logged.\n\n - logListeners( [scopeOrWidgetId] ):\n     If the argument is omitted the listeners of all scopes belonging to\n     a specific widget or of global scopes are logged.\n     Otherwise more detailed data for the listeners of the given scope\n     or widget are logged.\n\n - reset():\n     Resets all "# of executions" and millisecond data to zero.')}var i,j,k,l,m,n=a.module("axProfiling",[]);n.run(["$rootScope","$window","axConfiguration",function(a,d,e){if(l=d,i=e.get("profiling",{enabled:!1}),m=b.create(d),i.enabled===!0){if(!l.performance||!l.performance.now)return void m.log("Performance api is not available. Profiling is disabled.");m.log("%c!!! Profiling enabled. Application performance will suffer !!!","font-weight: bold; font-size: 1.2em"),m.log('Type "axProfiling.help()" to get a list of available methods');var f=a.constructor.prototype;j=d.axProfiling={items:{},widgetIdToScopeId:{},logWatchers:function(a){a&&"string"==typeof a?m.logForId(j,"watchFn",a):m.logAll(j,"watchFn")},logListeners:function(a){a&&"string"==typeof a?m.logForId(j,"listener",a):m.logAll(j,"listener")},log:function(a){a&&"string"==typeof a?m.logForId(j,null,a):(m.log("All listeners:"),m.logAll(j,"listener"),m.log("All watchers:"),m.logAll(j,"watchFn"))},reset:function(){Object.keys(j.items).forEach(function(a){j.items[a].watchers.forEach(function(a){a.watchFn.time=0,a.watchFn.count=0,a.listener.time=0,a.listener.count=0})})},help:h},k=f.$watch,f.$watch=function(a,b,d){return c(this,a,b,d||!1)}}}]);var o=/^[ ]*function([^\(]*?)\(/;return n}),define("laxar/lib/runtime/runtime_dependencies",["angular","angular-sanitize","./runtime_services","./flow","./page","../directives/directives","../profiling/profiling"],function(a,b,c,d,e,f,g){"use strict";return a.module("axRuntimeDependencies",["ngSanitize",c.name,d.name,e.name,f.id.name,f.widgetArea.name,g.name])}),define("laxar/laxar",["angular","./lib/logging/log","./lib/directives/directives","./lib/i18n/i18n","./lib/utilities/assert","./lib/utilities/configuration","./lib/utilities/fn","./lib/utilities/object","./lib/utilities/storage","./lib/utilities/string","./lib/runtime/runtime","./lib/runtime/runtime_dependencies","./lib/widget_adapters/adapters"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";function n(c,d){p(),o(),b.trace("Bootstrapping LaxarJS..."),d&&Array.isArray(d)&&m.addAdapters(d);var e=[k.name,l.name];Object.keys(c).forEach(function(a){var d=m.getFor(a);if(!d)return void b.error("Unknown widget technology: [0]",a);var f=d.bootstrap(c[a]);f&&f.name&&e.push(f.name)}),a.element(document).ready(function(){a.bootstrap(document,e)})}function o(){var c={"event_bus.timeout_ms":"eventBusTimeoutMs","file_resource_provider.listings":"fileListings","file_resource_provider.fileListings":"fileListings","file_resource_provider.useEmbedded":"useEmbeddedFileListings","portal.useMergedCss":"useMergedCss","portal.theme":"theme","portal.flow.entryPoint":"flow.entryPoint","portal.flow.exitPoints":"flow.exitPoints"},d=new Function("return this")();a.forEach(c,function(a,c){var e=h.path(d.laxar,c);if(void 0!==e){b.warn('Found deprecated configuration key "[0]". Use "[1]" instead.',c,a);
var f=h.path(d.laxar,a);void 0===f&&h.setPath(d.laxar,a,e)}})}function p(){var a="axLogTags.INST",c=i.getApplicationSessionStorage(),d=c.getItem(a);d||(d=""+(new Date).getTime()+Math.floor(100*Math.random()),c.setItem(a,d)),b.addTag("INST",d)}return{assert:e,bootstrap:n,configuration:f,directives:c,fn:g,i18n:d,log:b,object:h,storage:i,string:j}}),define("laxar",["laxar/laxar"],function(a){return a});
//# sourceMappingURL=laxar.min.js.map