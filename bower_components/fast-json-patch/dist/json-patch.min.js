/*!
* json-patch-duplex.js 0.3.8
* (c) 2013 Joachim Wester
* MIT license
*/
var jsonpatch;!function(a){function b(a,b){for(var f,g=!1,h=0,i=b.length;i>h;){f=b[h];for(var j=f.path.split("/"),k=a,l=1,m=j.length;;)if(c(k)){var n=parseInt(j[l],10);if(l++,l>=m){g=e[f.op].call(f,k,n,a);break}k=k[n]}else{var o=j[l];if(-1!=o.indexOf("~")&&(o=o.replace(/~1/g,"/").replace(/~0/g,"~")),l++,l>=m){g=d[f.op].call(f,k,o,a);break}k=k[o]}h++}return g}var c,d={add:function(a,b){return a[b]=this.value,!0},remove:function(a,b){return delete a[b],!0},replace:function(a,b){return a[b]=this.value,!0},move:function(a,c,d){var e={op:"_get",path:this.from};return b(d,[e]),b(d,[{op:"remove",path:this.from}]),b(d,[{op:"add",path:this.path,value:e.value}]),!0},copy:function(a,c,d){var e={op:"_get",path:this.from};return b(d,[e]),b(d,[{op:"add",path:this.path,value:e.value}]),!0},test:function(a,b){return JSON.stringify(a[b])===JSON.stringify(this.value)},_get:function(a,b){this.value=a[b]}},e={add:function(a,b){return a.splice(b,0,this.value),!0},remove:function(a,b){return a.splice(b,1),!0},replace:function(a,b){return a[b]=this.value,!0},move:d.move,copy:d.copy,test:d.test,_get:d._get};c=Array.isArray?Array.isArray:function(a){return a.push&&"number"==typeof a.length},a.apply=b}(jsonpatch||(jsonpatch={})),"undefined"!=typeof exports&&(exports.apply=jsonpatch.apply);
//# sourceMappingURL=json-patch.min.js.map