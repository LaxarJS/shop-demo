
//
// Create An Arrow On A Box
// Important:
// Works only in IE8+, FF, Safari and Chrome (because we use the pseudo classe :after and :before)
// ===========================================================================================================

// For better understanding, read following articel:
// http://www.yuiblog.com/blog/2010/11/22/css-quick-tip-css-arrows-and-shapes-without-markup/

// NEEDS FIX B:
// http://stackoverflow.com/questions/3350441/dynamic-elements-are-not-appearing-in-ie8-until-there-is-a-mouse-click or mouse-move

// arrowPosition - The position of the arrow related to the box (top, bottom, left, right)
// arrowColor - The color of the arrow. Should be the same of the box.
// arrowWidth - The width of the arrow.
// arrowBorderColor - The color of the arrow border. Should be the same as the border color of the box.
// arrowBorderWidth - The width of the aroow border. Should be the sams as the border width of the box.
@mixin ax-arrow-box ($arrowPosition, $arrowColor, $arrowWidth, $arrowBorderColor, $arrowBorderWidth) {

   $offsetA: "";
   $offsetB: "";
   $IE8-Hack: "\9";

   @if $arrowPosition == left {
      $offsetA: top;
      $offsetB: right;
   } @else if $arrowPosition == right {
      $offsetA: top;
      $offsetB: left;
   } @else if $arrowPosition == bottom {
      $offsetA: left;
      $offsetB: top;
   } @else  {
      $offsetA: left;
      $offsetB: bottom;
   }

   &:after,
   &:before {
      #{$offsetB}: 100%;
      border: $arrowBorderWidth solid transparent;
      content: " ";
      height: 0;
      width: 0;
      position: absolute;

      pointer-events: none;
   }

   &:after {
      border-color: rgba($arrowColor, 0);
      border-#{$offsetB}-color: $arrowColor;
      border-width: $arrowWidth;
      #{$offsetA}: 50%;
      margin-#{$offsetA}: -$arrowWidth;
   }

   &:before {
      border-color: rgba($arrowColor, 0);
      border-#{$offsetB}-color: darken($arrowBorderColor, 10%);
      border-#{$offsetB}-color: $arrowBorderColor#{$IE8-Hack};
      border-width: $arrowWidth + $arrowBorderWidth;
      #{$offsetA}: 50%;
      margin-#{$offsetA}: -($arrowWidth + $arrowBorderWidth);
   }
}
